!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((r=r||self).toxicDecorators={})}(this,function(r){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(r,e){return r(e={exports:{}},e.exports),e.exports}var a="object"==typeof e&&e&&e.Object===Object&&e,n="object"==typeof self&&self&&self.Object===Object&&self,P=a||n||Function("return this")(),o=P.Symbol,i=Object.prototype,u=i.hasOwnProperty,c=i.toString,f=o?o.toStringTag:void 0;var l=function(r){var e=u.call(r,f),t=r[f];try{var n=!(r[f]=void 0)}catch(r){}var o=c.call(r);return n&&(e?r[f]=t:delete r[f]),o},s=Object.prototype.toString;var v=function(r){return s.call(r)},p=o?o.toStringTag:void 0;var h=function(r){return null==r?void 0===r?"[object Undefined]":"[object Null]":p&&p in Object(r)?l(r):v(r)};var b=function(r){var e=typeof r;return null!=r&&("object"==e||"function"==e)};var j=function(r){if(!b(r))return!1;var e=h(r);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},g=Array.isArray;var y=function(r){return r};var d=function(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)},w=Math.max;var m=function(i,a,u){return a=w(void 0===a?i.length-1:a,0),function(){for(var r=arguments,e=-1,t=w(r.length-a,0),n=Array(t);++e<t;)n[e]=r[a+e];e=-1;for(var o=Array(a+1);++e<a;)o[e]=r[e];return o[a]=u(n),d(i,this,o)}};var _,E=function(r){return function(){return r}},O=P["__core-js_shared__"],x=(_=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"";var T=function(r){return!!x&&x in r},A=Function.prototype.toString;var S=function(r){if(null!=r){try{return A.call(r)}catch(r){}try{return r+""}catch(r){}}return""},D=/^\[object .+?Constructor\]$/,N=Function.prototype,k=Object.prototype,z=N.toString,I=k.hasOwnProperty,Y=RegExp("^"+z.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var M=function(r){return!(!b(r)||T(r))&&(j(r)?Y:D).test(S(r))};var F=function(r,e){return null==r?void 0:r[e]};var V=function(r,e){var t=F(r,e);return M(t)?t:void 0},$=function(){try{var r=V(Object,"defineProperty");return r({},"",{}),r}catch(r){}}(),q=$?function(r,e){return $(r,"toString",{configurable:!0,enumerable:!1,value:E(e),writable:!0})}:y,C=Date.now;var W=function(t){var n=0,o=0;return function(){var r=C(),e=16-(r-o);if(o=r,0<e){if(800<=++n)return arguments[0]}else n=0;return t.apply(void 0,arguments)}},R=W(q);var B=function(r,e){return R(m(r,e,y),r+"")},U=V(P,"WeakMap"),G=U&&new U,K=G?function(r,e){return G.set(r,e),r}:y,H=Object.create,J=function(){function t(){}return function(r){if(!b(r))return{};if(H)return H(r);t.prototype=r;var e=new t;return t.prototype=void 0,e}}();var L=function(n){return function(){var r=arguments;switch(r.length){case 0:return new n;case 1:return new n(r[0]);case 2:return new n(r[0],r[1]);case 3:return new n(r[0],r[1],r[2]);case 4:return new n(r[0],r[1],r[2],r[3]);case 5:return new n(r[0],r[1],r[2],r[3],r[4]);case 6:return new n(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new n(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var e=J(n.prototype),t=n.apply(e,r);return b(t)?t:e}};var Q=function(e,r,t){var n=1&r,o=L(e);return function r(){return(this&&this!==P&&this instanceof r?o:e).apply(n?t:this,arguments)}},X=Math.max;var Z=function(r,e,t,n){for(var o=-1,i=r.length,a=t.length,u=-1,c=e.length,f=X(i-a,0),l=Array(c+f),s=!n;++u<c;)l[u]=e[u];for(;++o<a;)(s||o<i)&&(l[t[o]]=r[o]);for(;f--;)l[u++]=r[o++];return l},rr=Math.max;var er=function(r,e,t,n){for(var o=-1,i=r.length,a=-1,u=t.length,c=-1,f=e.length,l=rr(i-u,0),s=Array(l+f),v=!n;++o<l;)s[o]=r[o];for(var p=o;++c<f;)s[p+c]=e[c];for(;++a<u;)(v||o<i)&&(s[p+t[a]]=r[o++]);return s};var tr=function(r,e){for(var t=r.length,n=0;t--;)r[t]===e&&++n;return n};var nr=function(){};function or(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}var ir=(or.prototype=J(nr.prototype)).constructor=or;var ar=G?function(r){return G.get(r)}:function(){},ur={},cr=Object.prototype.hasOwnProperty;var fr=function(r){for(var e=r.name+"",t=ur[e],n=cr.call(ur,e)?t.length:0;n--;){var o=t[n],i=o.func;if(null==i||i==r)return o.name}return e};function lr(r,e){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}var sr=(lr.prototype=J(nr.prototype)).constructor=lr;var vr=function(r){return null!=r&&"object"==typeof r};var pr=function(r,e){var t=-1,n=r.length;for(e||(e=Array(n));++t<n;)e[t]=r[t];return e};var hr=function(r){if(r instanceof ir)return r.clone();var e=new sr(r.__wrapped__,r.__chain__);return e.__actions__=pr(r.__actions__),e.__index__=r.__index__,e.__values__=r.__values__,e},yr=Object.prototype.hasOwnProperty;function dr(r){if(vr(r)&&!g(r)&&!(r instanceof ir)){if(r instanceof sr)return r;if(yr.call(r,"__wrapped__"))return hr(r)}return new sr(r)}var br=(dr.prototype=nr.prototype).constructor=dr;var gr=function(r){var e=fr(r),t=br[e];if("function"!=typeof t||!(e in ir.prototype))return!1;if(r===t)return!0;var n=ar(t);return!!n&&r===n[0]},wr=W(K),mr=/\{\n\/\* \[wrapped with (.+)\] \*/,_r=/,? & /;var Er=function(r){var e=r.match(mr);return e?e[1].split(_r):[]},Or=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var jr=function(r,e){var t=e.length;if(!t)return r;var n=t-1;return e[n]=(1<t?"& ":"")+e[n],e=e.join(2<t?", ":" "),r.replace(Or,"{\n/* [wrapped with "+e+"] */\n")};var Pr=function(r,e){for(var t=-1,n=null==r?0:r.length;++t<n&&!1!==e(r[t],t,r););return r};var xr=function(r,e,t,n){for(var o=r.length,i=t+(n?1:-1);n?i--:++i<o;)if(e(r[i],i,r))return i;return-1};var Tr=function(r){return r!=r};var Ar=function(r,e,t){for(var n=t-1,o=r.length;++n<o;)if(r[n]===e)return n;return-1};var Sr=function(r,e,t){return e==e?Ar(r,e,t):xr(r,Tr,t)};var Dr=function(r,e){return!(null==r||!r.length)&&-1<Sr(r,e,0)},Nr=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var kr=function(t,n){return Pr(Nr,function(r){var e="_."+r[0];n&r[1]&&!Dr(t,e)&&t.push(e)}),t.sort()};var zr=function(r,e,t){var n=e+"";return R(r,jr(n,kr(Er(n),t)))};var Ir=function(r,e,t,n,o,i,a,u,c,f){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var s=[r,e,o,l?i:void 0,l?a:void 0,l?void 0:i,l?void 0:a,u,c,f],v=t.apply(void 0,s);return gr(r)&&wr(v,s),v.placeholder=n,zr(v,r,e)};var Yr=function(r){return r.placeholder},Mr=/^(?:0|[1-9]\d*)$/;var Fr=function(r,e){var t=typeof r;return!!(e=null==e?9007199254740991:e)&&("number"==t||"symbol"!=t&&Mr.test(r))&&-1<r&&r%1==0&&r<e},Vr=Math.min;var $r=function(r,e){for(var t=r.length,n=Vr(e.length,t),o=pr(r);n--;){var i=e[n];r[n]=Fr(i,t)?o[i]:void 0}return r},qr="__lodash_placeholder__";var Cr=function(r,e){for(var t=-1,n=r.length,o=0,i=[];++t<n;){var a=r[t];a!==e&&a!==qr||(r[t]=qr,i[o++]=t)}return i},Wr=1,Rr=2,Br=8,Ur=16,Gr=128,Kr=512;function Hr(f,l,s,v,p,h,y,d,b,g){var w=l&Gr,m=l&Wr,_=l&Rr,E=l&(Br|Ur),O=l&Kr,j=_?void 0:L(f);return function r(){for(var e=arguments.length,t=Array(e),n=e;n--;)t[n]=arguments[n];if(E)var o=Yr(r),i=tr(t,o);if(v&&(t=Z(t,v,p,E)),h&&(t=er(t,h,y,E)),e-=i,E&&e<g){var a=Cr(t,o);return Ir(f,l,Hr,r.placeholder,s,t,a,d,b,g-e)}var u=m?s:this,c=_?u[f]:f;return e=t.length,d?t=$r(t,d):O&&1<e&&t.reverse(),w&&b<e&&(t.length=b),this&&this!==P&&this instanceof r&&(c=j||L(c)),c.apply(u,t)}}var Jr=Hr;var Lr=function(a,u,c){var f=L(a);return function r(){for(var e=arguments.length,t=Array(e),n=e,o=Yr(r);n--;)t[n]=arguments[n];var i=e<3&&t[0]!==o&&t[e-1]!==o?[]:Cr(t,o);return(e-=i.length)<c?Ir(a,u,Jr,r.placeholder,void 0,t,i,void 0,void 0,c-e):d(this&&this!==P&&this instanceof r?f:a,this,t)}};var Qr=function(u,r,c,f){var l=1&r,s=L(u);return function r(){for(var e=-1,t=arguments.length,n=-1,o=f.length,i=Array(o+t),a=this&&this!==P&&this instanceof r?s:u;++n<o;)i[n]=f[n];for(;t--;)i[n++]=arguments[++e];return d(a,l?c:this,i)}},Xr="__lodash_placeholder__",Zr=Math.min;var re=function(r,e){var t=r[1],n=e[1],o=t|n,i=o<131,a=128==n&&8==t||128==n&&256==t&&r[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==t;if(!i&&!a)return r;1&n&&(r[2]=e[2],o|=1&t?0:4);var u=e[3];if(u){var c=r[3];r[3]=c?Z(c,u,e[4]):u,r[4]=c?Cr(r[3],Xr):e[4]}return(u=e[5])&&(c=r[5],r[5]=c?er(c,u,e[6]):u,r[6]=c?Cr(r[5],Xr):e[6]),(u=e[7])&&(r[7]=u),128&n&&(r[8]=null==r[8]?e[8]:Zr(r[8],e[8])),null==r[9]&&(r[9]=e[9]),r[0]=e[0],r[1]=o,r};var ee=function(r){return"symbol"==typeof r||vr(r)&&"[object Symbol]"==h(r)},te=/^\s+|\s+$/g,ne=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,ie=/^0o[0-7]+$/i,ae=parseInt;var ue=function(r){if("number"==typeof r)return r;if(ee(r))return NaN;if(b(r)){var e="function"==typeof r.valueOf?r.valueOf():r;r=b(e)?e+"":e}if("string"!=typeof r)return 0===r?r:+r;r=r.replace(te,"");var t=oe.test(r);return t||ie.test(r)?ae(r.slice(2),t?2:8):ne.test(r)?NaN:+r};var ce=function(r){return r?(r=ue(r))!==1/0&&r!==-1/0?r==r?r:0:17976931348623157e292*(r<0?-1:1):0===r?r:0};var fe=function(r){var e=ce(r),t=e%1;return e==e?t?e-t:e:0},le=Math.max;var se=function(r,e,t,n,o,i,a,u){var c=2&e;if(!c&&"function"!=typeof r)throw new TypeError("Expected a function");var f=n?n.length:0;if(f||(e&=-97,n=o=void 0),a=void 0===a?a:le(fe(a),0),u=void 0===u?u:fe(u),f-=o?o.length:0,64&e){var l=n,s=o;n=o=void 0}var v=c?void 0:ar(r),p=[r,e,t,n,o,l,s,i,a,u];if(v&&re(p,v),r=p[0],e=p[1],t=p[2],n=p[3],o=p[4],!(u=p[9]=void 0===p[9]?c?0:r.length:le(p[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)h=8==e||16==e?Lr(r,e,u):32!=e&&33!=e||o.length?Jr.apply(void 0,p):Qr(r,e,t,n);else var h=Q(r,e,t);return zr((v?K:wr)(h,p),r,e)},ve=B(function(r,e,t){var n=1;if(t.length){var o=Cr(t,Yr(ve));n|=32}return se(r,n,e,t,o)});ve.placeholder={};var pe=ve;function he(r){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function ye(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function de(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=[],n=!0,o=!1,i=void 0;try{for(var a,u=r[Symbol.iterator]();!(n=(a=u.next()).done)&&(t.push(a.value),!e||t.length!==e);n=!0);}catch(r){o=!0,i=r}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return t}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function be(r){return function(r){if(Array.isArray(r)){for(var e=0,t=new Array(r.length);e<r.length;e++)t[e]=r[e];return t}}(r)||function(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ge=function(r){return!0===r||!1===r||vr(r)&&"[object Boolean]"==h(r)},we=t(function(e){function t(r){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function n(r){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=n=function(r){return t(r)}:e.exports=n=function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":t(r)},n(r)}e.exports=n}),me=t(function(r,e){var t=e&&!e.nodeType&&e,n=t&&r&&!r.nodeType&&r,o=n&&n.exports===t&&a.process,i=function(){try{var r=n&&n.require&&n.require("util").types;return r||o&&o.binding&&o.binding("util")}catch(r){}}();r.exports=i});me&&me.isRegExp;var _e=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object),Ee=Function.prototype,Oe=Object.prototype,je=Ee.toString,Pe=Oe.hasOwnProperty,xe=je.call(Object);var Te=function(r){if(!vr(r)||"[object Object]"!=h(r))return!1;var e=_e(r);if(null===e)return!0;var t=Pe.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t instanceof t&&je.call(t)==xe};me&&me.isDate;var Ae=function(r){return"number"==typeof r||vr(r)&&"[object Number]"==h(r)};var Se=function(r){return"string"==typeof r||!g(r)&&vr(r)&&"[object String]"==h(r)};var De=function(r){return null==r};function Ne(r){return!!r&&("object"===we(r)||"function"==typeof r)&&"function"==typeof r.then}var ke=Object.getOwnPropertyDescriptor;function ze(r){if(!r||!r.hasOwnProperty)return!1;for(var e=["value","initializer","get","set"],t=0,n=e.length;t<n;t++)if(r.hasOwnProperty(e[t]))return!0;return!1}function Ie(r){return r&&(j(r.get)||j(r.set))&&ge(r.configurable)&&ge(r.enumerable)&&void 0===r.writable}function Ye(r){return r&&r.hasOwnProperty("value")&&ge(r.configurable)&&ge(r.enumerable)&&ge(r.writable)}function Me(r){return r&&j(r.initializer)&&ge(r.configurable)&&ge(r.enumerable)&&ge(r.writable)}function Fe(e){return function(r){return Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:r,writable:!0}),r}}function Ve(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"You must pass me an array of function";if(!g(r)||r.length<1)throw new TypeError(n);if(1!==r.length)return r.reduce(function(e,t){if(!j(t)||!j(e))throw new TypeError(n);return function(r){return pe(t,this)(pe(e,this)(r))}});if(!j(r[0]))throw new TypeError(n);return r[0]}function $e(r){if(j(console.warn))return console.warn(r);console.log(r)}var qe,Ce,We=(qe=Object.getOwnPropertyNames,Ce=Object.getOwnPropertySymbols,j(Ce)?function(r){return be(Ce(r)).concat(be(qe(r)))}:qe);var Re=j(Object.getOwnPropertyDescriptors)?Object.getOwnPropertyDescriptors:function(t){return We(t).reduce(function(r,e){return r[e]=ke(t,e),r},{})};function Be(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];if(!e.length)throw new TypeError("You must pass in decorators in compressMultipleDecorators");return e.forEach(function(r){if(!j(r))throw new TypeError('Decorators must be a function, but not "'.concat(r,'" in ').concat(he(r)))}),1===e.length?e[0]:function(t,n,r){return e.reduce(function(r,e){return e(t,n,r)},r)}}function Ue(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=r.get,t=r.set,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=n.preGet,m=void 0!==o&&o,i=n.preSet,_=void 0===i||i;if(!(g(e)&&0<e.length||g(t)&&0<t.length||j(e)||j(t)))throw new TypeError("@accessor need a getter or setter. If you don't need to add setter/getter. You should remove @accessor");var a="@accessor only accept function or array of function as getter/setter",E=g(e)?Ve(e,a):e,O=g(t)?Ve(t,a):t;return function(r,e,t){var n=t||{},o=n.configurable,i=void 0===o||o,a=n.enumerable,u=void 0===a||a,c=j(E),f=j(O),l=function(r){return c?pe(E,this)(r):r},s=function(r){return f?pe(O,this)(r):r};if(Ie(t)){var v=t.get,p=t.set,h=j(v),y=j(p);return"production"!==process.env.NODE_ENV&&!h&&c&&$e("You are trying to set getter via @accessor on ".concat(e," without getter. That's not a good idea.")),"production"!==process.env.NODE_ENV&&!y&&f&&$e("You are trying to set setter via @accessor on  ".concat(e," without setter. That's not a good idea.")),{configurable:i,enumerable:u,get:h||c?function(){var r=this,e=pe(l,this),t=function(){return h?pe(v,r)():void 0};return(m?[e,t]:[t,e]).reduce(function(r,e){return e(r)},void 0)}:void 0,set:y||f?function(r){var e=this,t=pe(s,this),n=function(r){return y?pe(p,e)(r):r};return(_?[t,n]:[n,t]).reduce(function(r,e){return e(r)},r)}:void 0}}if(Me(t)){var d,b=t.initializer,g=!1;return{get:function(){var r=pe(l,this);return g||(d=pe(b,this)(),g=!0),r(d)},set:function(r){var e=pe(s,this);return d=_?e(r):r,g=!0,_||e(d),d},configurable:i,enumerable:u}}var w=(t||{value:void 0}).value;return{get:function(){return pe(l,this)(w)},set:function(r){var e=pe(s,this);return w=_?e(r):r,_||e(w),w},configurable:i,enumerable:u}}}function Ge(){for(var r=arguments.length,c=new Array(r),e=0;e<r;e++)c[e]=arguments[e];if(0===c.length)throw new Error("@before accept at least one parameter. If you don't need to preprocess before your function, do not add @before decorators");if(2<c.length&&ze(c[2]))throw new Error("You may use @before straightly, @before return decorators, you should call it before you set it as decorator.");for(var t=c.length-1;-1<t;t--)if(!j(c[t]))throw new TypeError("@before only accept function parameter");return function(r,e,t){var n=t||{configurable:void 0,enumerable:void 0,value:void 0,writable:void 0},i=n.value,o=n.configurable,a=n.enumerable,u=n.writable;if(!j(i))throw new TypeError('@before can only be used on function, please check the property "'.concat(e,'" is a method or not.'));return{configurable:o,enumerable:a,value:function(){for(var n=this,r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var o=c.reduce(function(r,e){var t=pe(e,n).apply(void 0,be(r));return void 0===t?r:g(t)?t:[t]},e);return pe(i,this).apply(void 0,be(o))},writable:u}}}function Ke(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];if(0===e.length)throw new Error("@after accept at least one parameter. If you don't need to preprocess after your function, do not add @after decorators");if(2<e.length&&ze(e[2]))throw new Error("You may have used @after straightly. @after return decorators. You should call it before you use it as decorators");var c=Ve(e,"@after only accept function parameter");return function(r,e,t){var n=t||{configurable:void 0,enumerable:void 0,value:void 0,writable:void 0},o=n.value,i=n.configurable,a=n.enumerable,u=n.writable;if(!j(o))throw new TypeError('@after can only be used on function, please checkout your property "'.concat(e,'" is a method or not.'));return{configurable:i,enumerable:a,value:function(){var r=pe(o,this).apply(void 0,arguments);return pe(c,this)(r)},writable:u}}}function He(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];if(0===e.length)throw new Error("@initialize accept at least one parameter. If you don't need to initialize your value, do not add @initialize.");if(2<e.length&&ze(e[2]))throw new Error("You may use @initialize straightly, @initialize return decorators, you need to call it");var a=Ve(e,"@initialize only accept function parameter");return function(r,e,t){if(void 0===t)return{configurable:!0,enumerable:!0,value:pe(a,r)(),writable:!0};if(Ie(t)){var n=!1;return Ue({get:function(r){return n?r:pe(a,this)(r)},set:t.set?function(r){return n=!0,r}:void 0})(r,e,t)}if(Me(t)){var o=t.initializer;return{configurable:t.configurable,enumerable:t.enumerable,initializer:function(){return pe(a,this)(pe(o,this)())},writable:t.writable}}var i=pe(a,this)(t.value);return{configurable:t.configurable,enumerable:t.enumerable,value:i,writable:t.writable}}}function Je(r,e,t){var n=void 0===t?{}:t,o=n.throwError,i=void 0!==o&&o,a=n.backup;if(Se(e)&&(e=e.split(".")),!g(e))throw new TypeError("keys of getDeepProperty must be string or Array<string>");for(var u=[],c=r,f=0,l=e.length;f<l;f++){var s=e[f];if(De(c)){if(i)throw new Error("obj"+(0<u.length?"."+u.join("."):" itself")+" is "+c);return a}c=c[s],u.push(s)}return c}var Le=Object.getOwnPropertyDescriptor,Qe=Object.defineProperty;function Xe(e,t,r,n,o,i){var a=r.configurable,u=r.enumerable,c=i.force,f=i.omit,l=Le(n,o);if(void 0!==l){if(f)return;if(!c)throw new Error('"'.concat(t,'" is an existing property, if you want to override it, please set "force" true in @alias option.'));if(!l.configurable)throw new Error('property "'.concat(t,'" is unconfigurable.'))}Qe(n,o,{get:function(){return e[t]},set:function(r){e[t]=r},configurable:a,enumerable:u})}var Ze,rt=Object.defineProperty;function et(v){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},p=r.requirement,e=r.customArgs,h=void 0!==e&&e;return function(){for(var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=r.exclude,i=void 0===e?[]:e,t=r.include,a=void 0===t?[]:t,n=r.construct,u=void 0!==n&&n,o=r.self,c=void 0!==o&&o,f=arguments.length,l=new Array(1<f?f-1:0),s=1;s<f;s++)l[s-1]=arguments[s];if(!g(i))throw new TypeError("options.exclude must be an array");if(!g(a))throw new TypeError("options.include must be an array");return function(r){var t=j(r);if(!c&&!t)throw new TypeError("@".concat(v.name,"Class can only be used on class"));if(c&&!b(r))throw new TypeError("@".concat(v.name,"Class must be used on non-primitive type value in 'self' mode"));var n=c?r:r.prototype;if(De(n))throw new Error("The prototype of the ".concat(r.name," is empty, please check it"));var o=Re(n);We(n).concat(a).forEach(function(r){var e=o[r];"constructor"===r&&!u||c&&t&&-1<["name","length","prototype"].indexOf(r)||-1<i.indexOf(r)||j(p)&&!1===p(n,r,e,{self:c})||rt(n,r,(h?v.apply(void 0,l):v)(n,r,e))})}}}function tt(e,t,r){if(1===arguments.length)return et(tt,{requirement:function(r,e,t){return Ye(t)&&j(t.value)}})()(e);var n=r||{configurable:void 0,value:void 0},o=n.value,i=n.configurable;if(!j(o))throw new TypeError('@autobind can only be used on functions, not "'.concat(o,'" in ').concat(he(o),' on property "').concat(t,'"'));var a=e.constructor;return{configurable:i,enumerable:!1,get:function(){var n=this,r=function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return o.call.apply(o,[n].concat(e))};return this===e?o:this.constructor!==a&&Object.getPrototypeOf(this).constructor===a?o:this.constructor!==a&&t in this.constructor.prototype?function(r,e){if("undefined"==typeof WeakMap)throw new Error("Using @autobind on ".concat(e.name,"() requires WeakMap support due to its use of super.").concat(e.name,"()"));Ze||(Ze=new WeakMap),!1===Ze.has(r)&&Ze.set(r,new WeakMap);var t=Ze.get(r);return!1===t.has(e)&&t.set(e,pe(e,r)),t.get(e)}(this,o):(Object.defineProperty(this,t,{configurable:!0,enumerable:!1,value:r,writable:!0}),r)},set:Fe(t)}}var nt=Object.defineProperty;var ot=Object.getOwnPropertyDescriptor,it=Object.defineProperty;function at(l){var s=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).other;if(!j(l)&&!Ne(l)&&!Se(l))throw new TypeError("@waitUntil only accept Function, Promise or String");return function(r,e,t){var n=t||{configurable:void 0,value:void 0},a=n.value,o=n.configurable;if(!j(a))throw new TypeError("@waituntil can only be used on function, but not ".concat(a,' on property "').concat(e,'"'));var u=!1,c=[],f=Ne(l)?function(){return l}:j(l)?l:function(){var r=l.split("."),e=de(r.slice(-1),1)[0],t=b(s)?s:this;if(!u){var n=Je(t,r.slice(0,-1));if(De(n))return n;var o=ot(n,e),i=function(r){if(!0===r)for(;0<c.length;)c[0](),c.shift();return r},a=ze(o)?Ue({set:i})(n,e,o):Ue({set:i})(n,e,{configurable:!0,enumerable:!0,value:void 0,writable:!0});it(n,e,a),u=!0}return Je(t,r)};return{configurable:o,enumerable:!1,value:function(){for(var r=this,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=pe(a,this),i=pe(f,this).apply(void 0,t);return Ne(i)?Promise.resolve(i).then(function(){return pe(a,r).apply(void 0,t)}):!0===i?pe(a,this).apply(void 0,t):new Promise(function(r){c.push(function(){o.apply(void 0,t),r()})})},writable:!1}}}var ut=Object.defineProperty;var ct=Object.defineProperty;var ft=Object.defineProperty,lt=Object.getOwnPropertyDescriptor;function st(r,e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=t.self,o=void 0!==n&&n,i=t.omit,a=void 0!==i&&i,u=j(e);if(u||g(e)){if(!j(r))throw new TypeError("If you want to decorator class, you must pass it a legal class");if(u)e(r);else for(var c=0,f=e.length;c<f;c++){var l=e[c];if(!j(l))throw new TypeError("If you want to decorate an class, you must pass it function or array of function");l(r)}return r}if(!o&&!j(r))throw new TypeError("applyDecorators only accept class as first arguments. If you want to modify instance, you should set options.self true.");if(o&&!b(r))throw new TypeError("We can't apply docorators on a primitive value, even in self mode");if(!Te(e))throw new TypeError("applyDecorators only accept object as second arguments");var s=o?r:r.prototype;if(De(s))throw new Error("The class muse have a prototype, please take a check");for(var v in e){var p=e[v],h=g(p)?p:[p],y=void 0;try{y=Be.apply(void 0,be(h))}catch(r){throw"production"!==process.env.NODE_ENV&&$e(r&&r.message),new Error("The decorators set on props must be Function or Array of Function")}var d=lt(s,v);if(!d||d.configurable)ft(s,v,y(s,v,d));else if(!a)throw new Error("".concat(v," of ").concat(s," is unconfigurable"))}return r}function vt(r,e,t){return void 0===t?{configurable:!0,enumerable:!1,value:void 0,writable:!0}:(t.enumerable=!1,t)}var pt=["push","pop","unshift","shift","splice","sort","reverse"];function ht(r,i,e){var t,a=e.diff,u=e.operationPrefix,c={},f=!1,n=new Proxy(r,{get:function(r,e,t){var n=r[e];if(g(r)&&-1<pt.indexOf(e))return function(){f=!0,pe(n,t).apply(void 0,arguments),f=!1,i()};if(!0===c[e])return n;if(Te(n)||g(n)){var o=c[e]||ht(n,i,{diff:a,operationPrefix:u});return c[e]=o}return c[e]=!0,n},set:function(r,e,t){var n=r[e],o=Te(t)||g(t)?ht(t,i,{diff:a,operationPrefix:u}):t;return r[e]=o,c[e]=!0,f||a&&n===o||i(),!0},deleteProperty:function(r,e){return delete r[e],delete c[e],f||i(),!0}}),o=(ye(t={},u+"set",[He(function(){return function(r,e){n[r]=e}}),vt]),ye(t,u+"del",[He(function(){return function(r){delete n[r]}}),vt]),t);return st(n,o,{self:!0}),n}function yt(u,n,r){var e,c=this,o=r.operationPrefix,i=r.diff,a={},f=!1;function l(r){var t;return r.reduce(function(r,e){return r[e]=[Ue({set:function(r){return t=this[e],r}}),Ue({get:function(r){return a[e]||((Te(r)||g(r))&&yt(r,n,{operationPrefix:o,diff:i}),a[e]=!0),r},set:function(r){return(Te(r)||g(r))&&yt(r,n,{operationPrefix:o,diff:i}),a[e]=!0,f||i&&t===r||n(),r}},{preSet:!1})],r},{})}var t=l(We(u));if(st(u,t,{self:!0,omit:!0}),g(u)){var s=pt.reduce(function(r,t){return r[t]=[He(function(e){return e=j(e)?e:Array.prototype[t],function(){var t=u.length;if(f=!0,pe(e,u).apply(void 0,arguments),f=!1,t<u.length){var r=l(new Array(u.length-t).fill(1).map(function(r,e){return(e+t).toString()}));st(u,r,{self:!0,omit:!0})}n()}}),vt],r},{});st(u,s,{self:!0})}var v=(ye(e={},o+"set",[He(function(a){return function(r,e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=t.disable,o=t.isNewVal;if(o=o||-1===We(u).indexOf(r),j(a)&&pe(a,c)(r,e,{disable:!0,isNewVal:o}),o){var i=l([r]);st(u,i,{self:!0,omit:!0})}n||(u[r]=e)}}),vt]),ye(e,o+"del",[He(function(e){return function(r){j(e)?pe(e,c)(r):delete u[r],n()}}),vt]),e);return st(u,v,{self:!0}),u}var dt=Object.preventExtensions;function bt(u){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=r.other,f=r.backup;if(!j(u)&&!Se(u))throw new TypeError("@runnable only accept Function or String");return function(r,e,t){var n=t||{configurable:void 0,value:void 0},o=n.value,i=n.configurable;if(!j(o))throw new TypeError("@runnable can only be used on method, but not ".concat(o,' on property "').concat(e,'".'));var a=j(u)?u:function(){var r=u.split(".");return Je(b(c)?c:this,r)};return f=j(f)?f:function(){},{configurable:i,enumerable:!1,writable:!1,value:function(){return!0===pe(a,this).apply(void 0,arguments)?pe(o,this).apply(void 0,arguments):pe(f,this).apply(void 0,arguments)}}}}var gt=et(tt,{requirement:function(r,e,t){return Ye(t)&&j(t.value)}}),wt=et(Ge,{requirement:function(r,e,t){return Ye(t)&&j(t.value)},customArgs:!0}),mt=et(Ke,{requirement:function(r,e,t){return Ye(t)&&j(t.value)},customArgs:!0}),_t=et(bt,{requirement:function(r,e,t){return Ye(t)&&j(t.value)},customArgs:!0}),Et=et(at,{requirement:function(r,e,t){return Ye(t)&&j(t.value)},customArgs:!0});r.accessor=Ue,r.before=Ge,r.after=Ke,r.readonly=function(r,e,t){return void 0===t?("production"!==process.env.NODE_ENV&&$e('You are using @readonly on an undefined property "'.concat(e,'". This property will become a readonly undefined forever, which is meaningless.')),{configurable:!0,enumerable:!0,value:void 0,writable:!1}):(Ie(t)?t.set=void 0:t.writable=!1,t)},r.alias=function(f,l,r){if(2===arguments.length?Se(f)&&(r=l,l=f,f=void 0):1===arguments.length&&(l=f,f=void 0),!Se(l))throw new TypeError("@alias need a string as a key to find the porperty to set alias on");var s="If you want to use @alias to set alias on other instance, you must pass in a legal instance";if(void 0!==f&&!b(f))throw new TypeError(s);var e=Te(r)?r:{force:!1,omit:!1},v=e.force,p=e.omit;return function(r,o,i){function a(r,e,t){var n=b(r)?r:e,o=t.split("."),i=de(o.slice(-1),1)[0];if(n=Je(n,o.slice(0,-1),{throwError:!0}),!b(n))throw new TypeError(s);return{name:i,target:n}}if(Me(i=i||{configurable:!0,enumerable:!0,value:void 0,writable:!0}))return He(function(r){var e=a(f,this,l),t=e.target,n=e.name;return Xe(this,o,i,t,n,{force:v,omit:p}),r})(r,o,i);if(Ie(i)){var u,e=function(r){if(u)return r;var e=a(f,this,l),t=e.target,n=e.name;return Xe(this,o,i,t,n,{force:v,omit:p}),u=!0,r};return Ue({get:e,set:e})(r,o,i)}var t=a(f,r,l),n=t.target,c=t.name;return Xe(r,o,i,n,c,{force:v,omit:p}),i}},r.autobind=tt,r.frozen=function(r,e,t){if(void 0===t)return"production"!==process.env.NODE_ENV&&$e("You are using @frozen on an undefined property. This property will become a frozen undefined forever, which is meaningless.It's property name is ".concat(e)),{configurable:!1,enumerable:!1,value:void 0,writable:!1};if(t.enumerable=!1,t.configurable=!1,Ie(t)){var n=t.get;return t.set=void 0,j(n)?{configurable:!1,enumerable:!1,get:function(){var r=pe(n,this)();return nt(this,e,{configurable:!1,enumerable:!1,value:r,writable:!1}),r},set:void 0}:void("production"!==process.env.NODE_ENV&&$e("You are using @frozen on one accessor descriptor without getter. This property will become a frozen undefined finally.Which maybe meaningless."))}return t.writable=!1,t},r.initialize=He,r.waituntil=at,r.lazyInit=function(r,e,t){if(void 0===t)throw new TypeError("@lazyInit cannot be apply on undefined property.");if(!j(t.initializer))return"production"!==process.env.NODE_ENV&&$e('@lazyInit can only be used on property, but not propery "'.concat(e,'" which may be methods or getter/setter.')),t;var n=t.initializer,o=t.configurable,i=t.enumerable,a=t.writable;return{configurable:o,enumerable:i,get:function(){var r=pe(n,this)();return ut(this,e,{configurable:o,enumerable:i,value:r,writable:a}),r},set:Fe(e)}},r.lock=function(r,e,t){if(void 0===t)return"production"!==process.env.NODE_ENV&&$e('You are using @lock on an undefined property "'.concat(e,'". This property will become a lock undefined forever, which is meaningless.')),{configurable:!1,enumerable:!0,value:void 0,writable:!1};if(t.configurable=!1,Ie(t)){var n=t.get;return t.set=void 0,j(n)?{configurable:!1,enumerable:t.enumerable,get:function(){var r=pe(n,this)();return ct(this,e,{configurable:!1,enumerable:t.enumerable,value:r,writable:!1}),r},set:void 0}:void $e("You are using @lock on one accessor descriptor without getter. This property will become a lock undefined finally.Which maybe meaningless.")}return t.writable=!1,t},r.watch=function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var n=Te(t[t.length-1])?t[t.length-1]:{},s=n.deep,v=n.omit,p=n.other,o=n.operationPrefix,h=void 0===o?"__":o,i=n.diff,y=void 0===i||i,d=n.proxy;if("function"!=typeof Proxy&&(d=!1,"production"!==process.env.NODE_ENV&&$e("You browser do not support Proxy, we will fall back into observe mode.")),!t.length)throw new TypeError("You must pass a function or a string to find the hanlder function.");if(void 0!==p&&!b(p))throw new TypeError("If you want us to trigger function on the other instance, you must pass in a legal instance");if(!Se(h))throw new TypeError("operationPrefix must be an string");return function(o,n,r){var i,a,u,c=t.reduce(function(r,n,e){if(Se(n)||j(n))return r.push(Se(n)?function(r,e){var t=Je(p||o,n);if(j(t))return pe(t,this)(r,e);if(!v)throw new Error("You pass in a function for us to trigger, please ensure the property to be a function or set omit flag true")}:n),r;if(!e||e!==t.length-1)throw new TypeError("You can only pass function or string as handler");return r},[]),f=function(e,t){var n=this;c.forEach(function(r){return pe(r,n)(e,t)})},l=!1;return Be(Ue({set:function(r){var e=this;i=this[n],u=void 0;var t=function(){return pe(f,e)(a,i)};return s&&(Te(r)||g(r))?d?ht(r,t,{diff:y,operationPrefix:h}):yt(r,t,{operationPrefix:h,diff:y}):r},get:function(r){var e=this;if(u)return u;if(!l){l=!0;var t=function(){return pe(f,e)(a,i)};if(s&&(Te(r)||g(r))){if(d)return u=ht(r,t,{diff:y,operationPrefix:h}),a=i=u;yt(r,t,{operationPrefix:h,diff:y})}a=i=r}return r}},{preSet:!0}),Ue({set:function(r){return a=r,y&&i===r||pe(f,this)(a,i),i=r}},{preSet:!1}))(o,n,r)}},r.nonextendable=function(r,e,t){if(void 0===t)throw new Error('@nonextendable could not handle undefined property "'.concat(e,'".'));return He(function(r){return dt(r),r})(r,e,t)},r.runnable=bt,r.enumerable=function(r,e,t){return void 0===t?{configurable:!0,enumerable:!0,value:void 0,writable:!0}:(t.enumerable=!0,t)},r.nonenumerable=vt,r.configurable=function(r,e,t){return void 0===t?{configurable:!0,enumerable:!0,value:void 0,writable:!0}:(t.configurable=!0,t)},r.nonconfigurable=function(r,e,t){return void 0===t?{configurable:!1,enumerable:!0,value:void 0,writable:!0}:(t.configurable=!1,t)},r.initString=function(e){for(var r=arguments.length,t=new Array(1<r?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return j(e)?(t.unshift(e),e=""):Se(e)||(e=""),t.unshift(function(r){return Se(r)?r:e}),He.apply(void 0,t)},r.initBoolean=function(e){for(var r=arguments.length,t=new Array(1<r?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return j(e)?(t.unshift(e),e=!1):ge(e)||(e=!1),t.unshift(function(r){return ge(r)?r:e}),He.apply(void 0,t)},r.initArray=function(e){for(var r=arguments.length,t=new Array(1<r?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return j(e)?(t.unshift(e),e=[]):g(e)||(e=[]),t.unshift(function(r){return g(r)?r:e}),He.apply(void 0,t)},r.initNumber=function(e){for(var r=arguments.length,t=new Array(1<r?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return j(e)?(t.unshift(e),e=0):Ae(e)||(e=0),t.unshift(function(r){return Ae(r)?r:e}),He.apply(void 0,t)},r.alwaysString=function(e){for(var r=arguments.length,t=new Array(1<r?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return j(e)?(t.unshift(e),e=""):Se(e)||(e=""),t.unshift(function(r){return Se(r)?r:e}),Ue({set:t,get:t})},r.alwaysBoolean=function(e){for(var r=arguments.length,t=new Array(1<r?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return j(e)?(t.unshift(e),e=!1):ge(e)||(e=!1),t.unshift(function(r){return ge(r)?r:e}),Ue({set:t,get:t})},r.alwaysArray=function(e){for(var r=arguments.length,t=new Array(1<r?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return j(e)?(t.unshift(e),e=[]):g(e)||(e=[]),t.unshift(function(r){return g(r)?r:e}),Ue({set:t,get:t})},r.alwaysNumber=function(e){for(var r=arguments.length,t=new Array(1<r?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return j(e)?(t.unshift(e),e=0):Ae(e)||(e=0),t.unshift(function(r){return Ae(r)?r:e}),Ue({set:t,get:t})},r.autobindClass=gt,r.beforeClass=wt,r.afterClass=mt,r.runnableClass=_t,r.waituntilClass=Et,r.applyDecorators=st,r.classify=et,r.getOwnKeys=We,r.getOwnPropertyDescriptors=Re,r.isDescriptor=ze,r.isAccessorDescriptor=Ie,r.isInitializerDescriptor=Me,r.isDataDescriptor=Ye,Object.defineProperty(r,"__esModule",{value:!0})});
